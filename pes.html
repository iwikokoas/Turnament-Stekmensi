<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PES World Cup â€“ Grup & Input Skor</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body{background:#0b1020;color:white;font-family:sans-serif}
    .card{background:#121832;border-radius:1rem;padding:1rem;margin-bottom:1rem}
    input[type=number]{width:3rem;text-align:center;border-radius:.5rem;border:1px solid #444;background:#0c1227;color:white;padding:.3rem}
    .hidden{display:none}
  </style>
</head>
<body>
  <header class="p-4">
    <h1 class="text-2xl font-bold">PES World Cup â€“ Grup & Input Skor</h1>
    <p class="text-slate-300">Hanya admin yang bisa input skor. Pemain lain hanya bisa lihat hasil.</p>
    <div class="mt-2">
      <label class="text-sm">Masukkan PIN Admin: </label>
      <input type="password" id="adminPin" placeholder="â€¢â€¢â€¢â€¢" class="p-1 rounded bg-slate-800" />
      <button id="btnLogin" class="px-3 py-1 bg-blue-600 rounded ml-2">Login</button>
    </div>
  </header>

  <main class="p-4" id="main"></main>

  <script>
    // DATA
    const GROUPS = {
      A: ["NK - Italia ðŸ‡®ðŸ‡¹","opik - norwegia ðŸ‡³ðŸ‡´","Ud - Belgia ðŸ‡§ðŸ‡ª"],
      B: ["Rido - PORTUGAL ðŸ‡µðŸ‡¹","nuryana - england ðŸ´","wahyu - jepang ðŸ‡¯ðŸ‡µ"],
      C: ["AMF - Netherland ðŸ‡³ðŸ‡±","Ule - Argentina ðŸ‡¦ðŸ‡·","andri - burazilu ðŸ‡§ðŸ‡·"],
      D: ["Eeng - Francis ðŸ‡«ðŸ‡·","dinar - spain ðŸ‡ªðŸ‡¦","mulanda - jerman"]
    };

    const ADMIN_PIN = "1234"; // ganti sesuai kebutuhan

    let isAdmin = false;
    const state = JSON.parse(localStorage.getItem("pes_wc_state")||"{}")

    document.getElementById("btnLogin").addEventListener("click",()=>{
      const val = document.getElementById("adminPin").value;
      if(val === ADMIN_PIN){
        isAdmin = true;
        render();
      } else {
        alert("PIN salah");
      }
    });

    function buildFixtures(teams){
      return [[0,1],[0,2],[1,2]];
    }

    function render(){
      const main = document.getElementById("main");
      main.innerHTML = '';
      Object.entries(GROUPS).forEach(([grp,teams])=>{
        const sec = document.createElement("div");
        sec.className = "card";
        sec.innerHTML = `<h2 class="text-xl font-semibold mb-2">Grup ${grp}</h2>`;
        const tbl = document.createElement("table");
        tbl.className = "w-full text-sm";
        tbl.innerHTML = `<tr><th>Match</th><th>Skor</th></tr>`;
        buildFixtures(teams).forEach(([a,b],i)=>{
          const key = `${grp}-${a}-${b}`;
          const saved = state[key]||{};
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td>${teams[a]} vs ${teams[b]}</td>
            <td>
              <input type="number" min="0" id="${key}-a" value="${saved.a??''}" ${isAdmin?'':'disabled'}>
              -
              <input type="number" min="0" id="${key}-b" value="${saved.b??''}" ${isAdmin?'':'disabled'}>
            </td>`;
          tbl.appendChild(tr);
          if(isAdmin){
            ["a","b"].forEach(side=>{
              document.addEventListener("input",e=>{
                if(e.target.id===`${key}-${side}`){
                  state[key] = state[key]||{};
                  state[key][side] = parseInt(e.target.value)||0;
                  localStorage.setItem("pes_wc_state",JSON.stringify(state));
                }
              })
            });
          }
        });
        sec.appendChild(tbl);
        main.appendChild(sec);
      });
    }

    render();
  </script>
</body>
</html>
